{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useState,useEffect,useContext}from'react';import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import SpotPreview from\"./SpotPreview\";import{Ionicons}from'@expo/vector-icons';import RNPickerSelect from'react-native-picker-select';var Home=function Home(_ref){var navigation=_ref.navigation;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bcnData=_useState2[0],setBcnData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),maresmeData=_useState4[0],setMaresme=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),nhData=_useState6[0],setNh=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _useState9=useState('eu'),_useState10=_slicedToArray(_useState9,2),units=_useState10[0],setUnits=_useState10[1];var image={uri:'https://i.imgur.com/Zs5yNSP.png'};var allDataFEtch=function allDataFEtch(isMounted){var response,json;return _regeneratorRuntime.async(function allDataFEtch$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(fetch('https://swellbyte.herokuapp.com/getAllApi'));case 3:response=_context.sent;_context.next=6;return _regeneratorRuntime.awrap(response.json());case 6:json=_context.sent;if(isMounted){setBcnData(json[0].swellData.hours);setMaresme(json[1].swellData.hours);setNh(json[2].swellData.hours);setIsLoading(false);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},null,null,[[0,10]],Promise);};useEffect(function(){var isMounted=true;allDataFEtch(isMounted);return function(){isMounted=false;};},[]);return React.createElement(ImageBackground,{source:image,style:styles.image},React.createElement(SafeAreaView,{style:styles.safe},isLoading?React.createElement(Text,null,\"loading...\"):React.createElement(View,{style:styles.container},React.createElement(View,{style:styles.logo},React.createElement(View,{style:{justifyContent:'flex-end',alignItems:'flex-end',flex:1,marginEnd:5}},React.createElement(Ionicons,{name:\"ios-menu\",size:32,color:\"white\"})),React.createElement(View,{style:{flex:1,justifyContent:'center',alignItems:'center'}}),React.createElement(Text,{style:styles.logoText},\"SwellByte\"),React.createElement(View,{style:{justifyContent:'flex-start',alignItems:'flex-start',marginStart:5,flex:1,paddingTop:10}},React.createElement(RNPickerSelect,{style:picker,value:units,onValueChange:function onValueChange(value){return value==null?setUnits('eu'):setUnits(value);},items:[{label:'EU',value:'eu'},{label:'US',value:'us'}]}))),maresmeData.length?React.createElement(View,{style:styles.spots},React.createElement(TouchableOpacity,{onPress:function onPress(){return navigation.navigate('SpotDetails',{data:bcnData,units:units});}},React.createElement(SpotPreview,{forecastData:bcnData,name:'Bogatell',units:units})),React.createElement(TouchableOpacity,{onPress:function onPress(){return navigation.navigate('SpotDetails',{data:maresmeData,units:units});}},React.createElement(SpotPreview,{forecastData:maresmeData,name:'Vilassar',units:units})),React.createElement(TouchableOpacity,{onPress:function onPress(){return navigation.navigate('SpotDetails',{data:nhData,units:units});}},React.createElement(SpotPreview,{forecastData:nhData,name:'Hampton',units:units}))):null)));};var windowWidth=Dimensions.get('window').width;var windowHeight=Dimensions.get('window').height;var styles=StyleSheet.create({container:{height:windowHeight,width:windowWidth,flexDirection:'column',justifyContent:'flex-start',alignItems:'center',color:'white'},safe:{flex:1,flexDirection:'column',alignItems:'center',justifyContent:'center',height:windowHeight,width:windowWidth,color:'white'},image:{flex:1,resizeMode:'cover',justifyContent:'center'},logo:{flexDirection:'row',margin:5,padding:5,width:'100%',textAlign:'center',color:'white'},logoText:{marginTop:10,fontSize:25,fontWeight:'bold',color:'white',textAlign:'center',width:'75%'},spots:{width:windowWidth-10,height:windowHeight-60,alignItems:'center'}});var picker={inputIOS:{color:'white',border:2,fontSize:14,fontWeight:'bold'}};export default Home;","map":{"version":3,"sources":["/Users/sean/Documents/swellByte1-0/SwellByteClient/components/Home.js"],"names":["React","useState","useEffect","useContext","SpotPreview","Ionicons","RNPickerSelect","Home","navigation","bcnData","setBcnData","maresmeData","setMaresme","nhData","setNh","isLoading","setIsLoading","units","setUnits","image","uri","allDataFEtch","isMounted","fetch","response","json","swellData","hours","console","log","styles","safe","container","logo","justifyContent","alignItems","flex","marginEnd","logoText","marginStart","paddingTop","picker","value","label","length","spots","navigate","data","windowWidth","Dimensions","get","width","windowHeight","height","StyleSheet","create","flexDirection","color","resizeMode","margin","padding","textAlign","marginTop","fontSize","fontWeight","inputIOS","border"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\nimport { TouchableOpacity, StyleSheet, Text, View, SafeAreaView, ImageBackground, Dimensions } from 'react-native';\nimport SpotPreview from './SpotPreview'\nimport { EXPO_API_URL } from '@env';\nimport { Ionicons } from '@expo/vector-icons';\nimport RNPickerSelect from 'react-native-picker-select';\nconst Home = ({ navigation }) => {\n\n  const [bcnData, setBcnData] = useState([])\n  const [maresmeData, setMaresme] = useState([])\n  const [nhData, setNh] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [units, setUnits] = useState('eu')\n  const image = { uri: 'https://i.imgur.com/Zs5yNSP.png'}\n  const allDataFEtch = async (isMounted) => {\n\n    try {\n      let response = await fetch('https://swellbyte.herokuapp.com/getAllApi')\n      let json = await response.json();\n      \n      if (isMounted) {\n        setBcnData(json[0].swellData.hours);\n        setMaresme(json[1].swellData.hours);\n        setNh(json[2].swellData.hours);\n        setIsLoading(false)\n      }\n    \n    } catch (error) {\n      console.log(error)\n    }  \n  }\n  \n  useEffect(() => {\n    let isMounted = true;\n    allDataFEtch(isMounted)\n    return () => {\n      isMounted = false\n    }\n  }, [])\n\n  return (\n    \n    <ImageBackground source={image} style={styles.image}>\n    <SafeAreaView  style={styles.safe}>\n      \n          {isLoading ? \n        <Text>loading...</Text>  :\n        <View style={styles.container}>\n          <View style={styles.logo}>\n            <View style={{justifyContent: 'flex-end', alignItems: 'flex-end', flex: 1, marginEnd: 5 }}><Ionicons name=\"ios-menu\" size={32} color=\"white\" /></View>\n            <View style={{flex: 1, justifyContent: 'center', alignItems: 'center'}}></View><Text style={styles.logoText}>SwellByte</Text>           \n            <View style={{justifyContent: 'flex-start', alignItems: 'flex-start', marginStart: 5, flex: 1, paddingTop: 10}}>            \n              <RNPickerSelect style={picker} value={units} \n                        onValueChange={(value) => value == null ? setUnits('eu') : setUnits(value)}\n                        items={[\n                            { label: 'EU', value: 'eu' },\n                            { label: 'US', value: 'us' },\n                        ]}\n                      />            \n            </View>\n          </View>\n          \n          {maresmeData.length ? \n            <View style={styles.spots}>\n             <TouchableOpacity onPress={() => navigation.navigate('SpotDetails', {data: bcnData, units: units})}>\n               \n            <SpotPreview forecastData={bcnData} name={'Bogatell'} units={units}/>\n             </TouchableOpacity>\n             <TouchableOpacity onPress={() => navigation.navigate('SpotDetails', {data: maresmeData, units: units})}> \n            <SpotPreview forecastData={maresmeData} name={'Vilassar'} units={units}/>\n             </TouchableOpacity>\n             <TouchableOpacity onPress={() => navigation.navigate('SpotDetails', {data: nhData, units: units})}> \n            <SpotPreview forecastData={nhData} name={'Hampton'} units={units}/>\n             </TouchableOpacity>    \n            </View> : null}\n            \n                   \n        </View>\n        }\n\n    </SafeAreaView>\n    </ImageBackground>\n  )\n}\nconst windowWidth = Dimensions.get('window').width;\nconst windowHeight = Dimensions.get('window').height;\n\nconst styles = StyleSheet.create({\n  container: {\n    height: windowHeight,\n    width: windowWidth,\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    color: 'white',\n  },\n  safe: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: windowHeight,\n    width: windowWidth,\n    color: 'white',\n  },\n  image: {\n    flex:1,\n    resizeMode: 'cover',\n    justifyContent: 'center'\n  },\n  logo: {\n    flexDirection: 'row',\n    margin: 5,\n    padding: 5,\n    width: '100%',\n    textAlign: 'center',\n    color: 'white',\n  },\n  logoText: {\n    marginTop: 10,\n    fontSize: 25,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center',\n    width: '75%'\n  },\n  spots: {\n    width: windowWidth-10,\n    height: windowHeight-60,\n    alignItems: 'center'\n\n  }\n\n});\nconst picker = {\n  inputIOS: {\n    color: 'white',\n    border: 2,\n    fontSize: 14,\n    fontWeight: 'bold',\n  }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}